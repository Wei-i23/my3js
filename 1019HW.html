<!DOCTYPE html>
<html>
<head>
<style>
#heading {
	position: absolute;
	text-align: center;
	width:100vw;
}
</style>
</head>
<body> 
<div id='heading'>
	<h1 style='color:pink'>1019HW</h1>
	
</div>
<script src="https://threejs.org/build/three.min.js"></script>
<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<script>
javascript:(function(){var script=document.createElement('script');script.onload=function(){var stats=new Stats();document.body.appendChild(stats.dom);requestAnimationFrame(function loop(){stats.update();requestAnimationFrame(loop)});};script.src='https://mrdoob.github.io/stats.js/build/stats.min.js';document.head.appendChild(script);})()

//my script
/*$('#toggle').click(
function(){
	axes.material.visible = ! axes.material.visible;
});*/
var renderer,camera,scene;	//全域變數
var axes;
var status,p;


init();
animate();

function init(){
	renderer = new THREE.WebGLRenderer({animate:true});
	renderer.setSize(window.innerWidth,window.innerHeight);
	renderer.setClearColor(0x88888888);	//全灰
	document.body.appendChild (renderer.domElement);
	
	camera = new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1000);
	camera.position.z = 50;	//(0,0,50)
	
	var controls = new THREE.OrbitControls(camera,renderer.domElement);	//camera所對應的字串
	
	scene = new THREE.Scene();
	var grid = new THREE.GridHelper(100,10,'red','white');
	scene.add(grid);
	
	axes = new THREE.AxesHelper(15);
	scene.add(axes);
	
	var cubeGeometry = new THREE.BoxGeometry(5,5,5);		//正方體(頭)
	var cubeMaterial = new THREE.MeshNormalMaterial();
	var cube = new THREE.Mesh (cubeGeometry,cubeMaterial);
	
	cube.position.set(0,28,0);
	
	var cubeGeometry2 = new THREE.BoxGeometry(10,15,10);	//長方體(身體)
	var cubeMaterial2 = new THREE.MeshNormalMaterial();
	var cube2 = new THREE.Mesh (cubeGeometry2,cubeMaterial);
	
	cube2.position.set(0,18,0);
	
	var cubeGeometry3 = new THREE.BoxGeometry(5,10,5);		//長方體(腳)
	var cubeMaterial3 = new THREE.MeshNormalMaterial();
	var cube3 = new THREE.Mesh (cubeGeometry3,cubeMaterial);
	
	cube3.position.set(0,8,0);
	
	var cubeGeometry4 = new THREE.BoxGeometry(2.5,15,2.5);		//長方體(右手)
	var cubeMaterial4 = new THREE.MeshNormalMaterial();
	var cube4 = new THREE.Mesh (cubeGeometry4,cubeMaterial);
	
	cube4.position.set(-6,18,0);
	
	var cubeGeometry5 = new THREE.BoxGeometry(2.5,15,2.5);		//長方體(左手)
	var cubeMaterial5 = new THREE.MeshNormalMaterial();
	var cube5 = new THREE.Mesh (cubeGeometry5,cubeMaterial);
	
	cube5.position.set(6,18,0);
	
	var geometry = new THREE.CylinderGeometry(3,3,2,64);		//輪子
	var cylinder = new THREE.Mesh(geometry,cubeMaterial);
	cylinder.position.set(-10,3,0);
	cylinder.rotation.z = Math.PI/2;
	
	var cubeGeometry6 = new THREE.BoxGeometry(20,1,6);		//平板
	var cubeMaterial6 = new THREE.MeshNormalMaterial();
	var cube6 = new THREE.Mesh (cubeGeometry6,cubeMaterial);
	
	cube6.position.set(0,3,0);
	
	var geometry1 = new THREE.CylinderGeometry(3,3,2,64);		//輪子
	var cylinder1 = new THREE.Mesh(geometry1,cubeMaterial);
	cylinder1.position.set(10,3,0);
	cylinder1.rotation.z = Math.PI/2;
	
	
	mesh = new THREE.Object3D();
	mesh.add(cube,cube2,cube3,cube4,cube5,cube6,cylinder,cylinder1);
	
	scene.add(mesh);
	
}

function animate(){
	if(status == 0){
		p = 0;
		mesh.position.set (mesh.position.x + 1, 0 , mesh.position.z);
		if(mesh.position.x >= 50) {
			status = 1;
		}
		mesh.rotation.y = p;
	}
	else if(status == 1){
		p = Math.PI*1.5;
		mesh.position.set (mesh.position.x , 0 ,mesh.position.z + 1);
		if(mesh.position.z >= 50) {
			status = 2;
		}
		mesh.rotation.y = p;
	}
	else if(status == 2){
		p = Math.PI;
		mesh.position.set (mesh.position.x -1, 0 , mesh.position.z);
		if(mesh.position.x <= -50) {
			status = 3;
		}
		mesh.rotation.y = p;
	}
	else if(status == 3) {
		p = Math.PI*0.5;
		mesh.position.set (mesh.position.x , 0 , mesh.position.z -1);
		if(mesh.position.z <= -50) {
			status = 0;
		}
		mesh.rotation.y = p;
	}
	
	
	requestAnimationFrame(animate);
	renderer.render(scene,camera);
}
</script>
</body>
</html>
